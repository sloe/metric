

<link rel="stylesheet" href="{{=URL('static','css/normalize.css')}}"/>
<link rel="stylesheet" href="{{=URL('static','css/ion.rangeSlider.css')}}"/>
<link rel="stylesheet" href="{{=URL('static','css/ion.rangeSlider.skinMetric.css')}}"/>

<script src="{{=URL('static', 'js/ion.rangeSlider.js')}}"></script>
<script src="{{=URL('static', 'mtjs/mtcontrol.js')}}"></script>
<script src="{{=URL('static', 'mtjs/mtcontrolbar.js')}}"></script>

{{
def write_mt_control_bar(mode):
    if mode == 'edit':
        response.write(BUTTON("Save", _class="control_bar_button control_bar_button_right control_bar_button_save"))
        response.write(BUTTON("Discard Changes", _class="control_bar_button control_bar_button_right control_bar_button_discard"))
    elif mode == 'view':
        if requester_can_write:
            response.write(BUTTON("Edit", _class="control_bar_button control_bar_button_right control_bar_button_edit"))
        else:
            response.write(BUTTON("Duplicate to Edit", _class="control_bar_button control_bar_button_right control_bar_button_duplicate"))
        pass
    else:
        response.write("Improper mode, please reload")
    pass

    pass # Terminates function


def write_mt_control_interval(id):
    style = "width:640px;"
    parent_style = "border: solid; border-color: #fff;"
    response.write(TABLE(
        TR(TD(TABLE(TR(TD(INPUT(_class='slider%d_start_time' % id, _id='slider%d_start_time_coarse' % id, _type='text', _value="Loading..."), _style=style)),
            TR(TD(INPUT(_class='slider%d_start_time' % id, _id='slider%d_start_time_fine' % id, _type='text', _value="Loading..."), _style=style))
        , _class='slider%d_container' % id, _id='slider%d_start_time_container' % id, _style=parent_style))),
        TR(TD(TABLE(TR(TD(INPUT(_class='slider%d_end_time' % id, _id='slider%d_end_time_coarse' % id, _type='text', _value="Loading..."), _style=style)),
            TR(TD(INPUT(_class='slider%d_end_time' % id, _id='slider%d_end_time_fine' % id, _type='text', _value="Loading..."), _style=style))
        , _class='slider%d_container' % id, _id='slider%d_end_time_container' % id, _style=parent_style))),
        TR(TD(TABLE(TR(TD(INPUT(_class='slider%d_num_events' % id, _id='slider%d_num_events_coarse' % id, _type='text', _value="Loading..."), _style=style)),
            TR(TD(INPUT(_class='slider%d_num_events' % id, _id='slider%d_num_events_fine' % id, _type='text', _value="Loading..."), _style=style))
        , _class='slider%d_container' % id, _id='slider%d_num_events_container' % id, _style=parent_style))),
        TR(TD(TABLE(TR(TD(INPUT(_class='slider%d_rate' % id, _id='slider%d_rate_coarse' % id, _type='text', _value="Loading..."), _style=style)),
            TR(TD(INPUT(_class='slider%d_rate' % id, _id='slider%d_rate_fine' % id, _type='text', _value="Loading..."), _style=style))
        , _class='slider%d_container' % id, _id='slider%d_rate_container' % id, _style=parent_style)))
    ))
    pass
}}
